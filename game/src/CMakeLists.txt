FIND_PACKAGE(Qt4 REQUIRED)

#
# Set source files
SET(QT_FILES_WITHOUT_SUFFIX
  MainWindow
)

SET(game_SOURCES
  Main.cpp
)

FOREACH(QT_FILE_WITHOUT_SUFFIX ${QT_FILES_WITHOUT_SUFFIX})
  SET(game_SOURCES ${game_SOURCES} ${QT_FILE_WITHOUT_SUFFIX}.cpp)
  SET(game_HEADERS ${game_HEADERS} ${QT_FILE_WITHOUT_SUFFIX}.h)
  SET(game_FORMS ${game_FORMS} ${QT_FILE_WITHOUT_SUFFIX}.ui)
ENDFOREACH(QT_FILE_WITHOUT_SUFFIX)

#
# Using QT
INCLUDE(${QT_USE_FILE})
ADD_DEFINITIONS(${QT_DEFINITIONS})
QT4_WRAP_CPP(game_HEADERS_MOC ${game_HEADERS})
QT4_WRAP_UI(game_FORMS_HEADERS ${game_FORMS})

#
# This include intermediate files generated by QT
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})

ADD_EXECUTABLE(game ${game_SOURCES} ${game_HEADERS_MOC} ${game_FORMS_HEADERS})
TARGET_LINK_LIBRARIES(game ${QT_LIBRARIES})
