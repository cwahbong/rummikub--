PROJECT(rummigame)

FIND_PACKAGE(Qt5Core)
FIND_PACKAGE(Qt5Widgets)
FIND_PACKAGE(Qt5Gui)

SET(CMAKE_AUTOMOC ON)

FILE(GLOB rummigame_SOURCES *.cpp)
FILE(GLOB rummigame_HEADERS *.h)
FILE(GLOB rummigame_FORMS *.ui)

QT5_WRAP_UI(rummigame_FORMS_HEADERS ${rummigame_FORMS})

# This include intermediate files generated by QT
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})

INCLUDE_DIRECTORIES(${rummicore_SOURCE_DIR}/include)
INCLUDE_DIRECTORIES(${rummigame_SOURCE_DIR})

ADD_EXECUTABLE(${PROJECT_NAME} ${rummigame_SOURCES} ${rummigame_FORMS_HEADERS})
TARGET_LINK_LIBRARIES(${PROJECT_NAME} rummicore)
INSTALL(TARGETS ${PROJECT_NAME}
  RUNTIME DESTINATION bin
)

QT5_USE_MODULES(${PROJECT_NAME} Core Widgets Gui)

